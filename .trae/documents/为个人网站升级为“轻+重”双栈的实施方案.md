## 差异分析
- 你当前网站：托管在 GitHub Pages，根目录含 `_next/` 与静态 `index.html`，说明是 Next.js 的静态导出版本；动态能力依赖前端脚本与第三方服务。
  - 评论：通过 Giscus 加载 GitHub Discussions（`next-site/src/app/components/sections/CommentsSection.tsx:7`）。
  - 访问统计：客户端拉取 `countapi.xyz` 并本地回退（`next-site/src/app/components/VisitorAnalytics.tsx:20`）。
  - 自动化：工作流将构建产物拷贝到根目录并部署到 Pages（`.github/workflows/update-scholar-metrics.yml:49` 与 `.github/workflows/deploy.yml:31`）。
- yage.ai：以内容为核心的思想站点，强调“AI Native 成本结构”和一次性软件的思路；整体偏轻量内容呈现，但论述的是用临时工具获得高解析度决策的策略。你的站点可借此打造“轻展示 + 重交互/临时工具”的双栈形态。

## 目标与原则
- 保留现有轻量静态站点用于“稳定展示与 SEO”。
- 新增一个“重一点”的交互站：支持服务端渲染、API Route、数据库与鉴权，承载交互组件与一次性工具。
- 充分利用免费/开源基础设施，降低维护成本。

## 架构选型
- 轻栈（现状保留）：GitHub Pages + Next.js 静态导出，继续作为主页或文档/作品集。
- 重栈（新增）：
  - 托管：Vercel 或 Cloudflare Pages + Workers（均有免费层）。
  - 应用框架：继续用 Next.js 15（你已在用），启用 SSR 与 `app` 路由下的 API。
  - 数据层：Supabase（Postgres/存储/鉴权免费层）或 Firebase（Auth/Firestore）。
  - 搜索与索引：Pinecone/Supabase pgvector 或客户端索引（Lunr/elasticlunr）+ 后端增强。
  - 监控分析：Vercel Analytics/Speed Insights、Plausible/Umami（免费开源）。

## 推荐站点分层
- 轻站（`junweizhang23.github.io`）：
  - 继续每日更新学术指标与内容卡片。
  - 保留 Giscus 评论与基础访问统计；静态资源与 SEO 友好。
- 重站（建议 `lab.yourdomain` 或 `app.yourdomain`）：
  - 登录/鉴权、数据持久化、服务端处理。
  - 承载“AI Native 一次性工具”：针对某个临时需求快速生成/上线交互式工具，完成后可归档或下线。

## 首批功能建议（重站）
- JSON/数据对比与可视化：上传两版结构化数据，自动对齐、Diff、过滤、排序、检索，复刻你引用的“标注前后对比”场景，服务端做预处理，前端高交互展示。
- 全站检索：服务端生成索引，客户端即时搜索；学术与项目条目支持高维检索与高亮。
- 交互式研究演示：如论文图表、模型可视化、交互参数滑块，支持保存配置链接。
- 反馈与联系：表单直连 Supabase/Firebase，邮件通知与后台列表。

## 免费基础设施清单
- 托管：Vercel Hobby 或 Cloudflare Pages + Workers（API 免费有配额）。
- 数据库与鉴权：Supabase Free（10GB 存储/50MB 数据等配额）或 Firebase Spark。
- 分析：Vercel Analytics（基础免费）、Plausible 自托管或 Umami。
- 任务队列/定时：Cloudflare Workers Cron 或 GitHub Actions 定时任务（你已在用）。

## 渐进式落地计划
1. 新建重站工程：直接以 `next-site` 为基础，取消静态导出，开启 SSR 与 API 路由。
2. 选择平台并部署：Vercel 一键导入仓库；配置环境变量与域名子域。
3. 集成鉴权与数据层：Supabase/Firebase，建立用户与表结构。
4. 实现“数据对比工具”MVP：后端解析与对齐，前端 Diff 视图与过滤检索。
5. 增强检索与可视化：加入全文索引/向量检索与交互组件。
6. 监控与治理：接入 Analytics/日志，建立“临时工具归档/下线”流程。

## 风险与权衡
- GitHub Pages 无服务端能力，重交互必须放到支持 Serverless 的平台。
- 免费层配额需监控；超出后考虑缓存/限流与升级计划。
- 双栈需统一设计与导航，避免用户认知割裂。

## 下一步
- 确认重站平台与数据层选型（Vercel+Supabase 为默认推荐）。
- 我可以据此在新仓库初始化重站并完成首个“数据对比工具”MVP，然后与你审阅上线。